[package]
name = "sark-rust"
version = "1.3.0"
edition = "2021"
rust-version = "1.92"
license = "MIT"
authors = ["James Henry"]

[lib]
name = "sark_rust"
crate-type = ["cdylib"]

[dependencies]
pyo3 = { version = "0.22", features = ["extension-module"] }
sark-opa = { path = "rust/sark-opa" }
sark-cache = { path = "rust/sark-cache" }

[workspace]
members = ["rust/sark-opa", "rust/sark-cache"]
resolver = "2"

[workspace.package]
version = "1.3.0"
edition = "2021"
rust-version = "1.92"
license = "MIT"
authors = ["James Henry"]

[workspace.dependencies]
# Python bindings
pyo3 = { version = "0.22", features = ["extension-module", "abi3-py311"] }
pythonize = "0.22"

# Serialization
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# OPA engine
regorus = "0.2"

# Cache
dashmap = "6.1"
parking_lot = "0.12"

# Error handling
thiserror = "1.0"
anyhow = "1.0"
